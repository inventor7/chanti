import{_ as j,R as N,s as u,o,c as n,b as t,t as d,v as S,z as B,L as D,E as z,B as G,g as H,u as W,D as F,G as J,H as K,I as M,e as U,J as O,f as Q,d as X,K as Y,m as _,r as Z,i as a,y as P,F as C,a as $,h as w,n as I}from"./index-fec93108.js";import{P as ee}from"./ProviderPosts-26ce9ae2.js";const te={name:"Tab2",components:{Rating:N},props:{rating:{type:Number}},setup(){return{}}},se={key:0,class:"flex flex-col justify-center items-center border-2 rounded-2xl p-2 mt-4 gap-2 w-full h-full"},oe={class:"font-extrabold font-sans text-7xl"},re=B('<div class="h-full w-full font-semibold flex flex-col justify-center items-center gap-2"><span>1<progress class="progress ml-2 progress-info w-56" value="0" max="100"></progress></span><span>2<progress class="progress ml-2 progress-info w-56" value="10" max="100"></progress></span><span>3<progress class="progress ml-2 progress-info w-56" value="40" max="100"></progress></span><span>4<progress class="progress ml-2 progress-info w-56" value="70" max="100"></progress></span><span>5<progress class="progress ml-2 progress-info w-56" value="100" max="100"></progress></span></div>',1),ne={key:1,class:"w-full h-[50vh] flex flex-col justify-center items-center"},ie=t("h2",{class:"text-2xl font-bold"},"No Rating Avaible ",-1),ae=[ie];function le(m,s,f,e,g,v){const p=u("Rating");return f.rating===null||f.rating===0?(o(),n("div",se,[t("h2",oe,d(f.rating),1),S(p,{isIndicatorActive:!1,size:32,rating:f.rating},null,8,["rating"]),re])):(o(),n("div",ne,ae))}const ce=j(te,[["render",le]]),de={name:"Profile",components:{Rating:N,Loading:D,Error:z,RatingSection:ce,ProviderPosts:ee,ErrorPage:G},setup(){const m=H(),s=W(),f=F(),e=J(),g=K(),v=M(),p=U(),b=O(),x=Q(),h=X(),r=Y(),R=i=>{g.sendRequest(i,m.$state.clientPostId).then(c=>{c.status==200&&(g.$state.isSent=!0,setTimeout(()=>{g.$state.isSent=!1},3e3)),console.log(c)}),l.value.btnVisible=!1,s.$state.providers.map(c=>{c.id==i&&(c.btnVisible=!1)})};let l=_(()=>s.$state.provider),L=_(()=>s.loading),T=_(()=>{switch(l.value.category.name){case"moving_storage_services":return"../../src/assets/categories/moving.svg";case"home_inspection_appraisal":return"../../src/assets/categories/maintenance.svg";case"painting_finishing":return"../../src/assets/categories/painting.svg";case"landscape_outdoor_living":return"../../src/assets/categories/gardening.svg";case"plumbing_water_management":return"../../src/assets/categories/plumber.svg";case"electrical_hvac":return"../../src/assets/categories/electrecian.svg";case"cleaning_house_keeping":return"../../src/assets/categories/cleaning.svg";case"interior_design_decorating":return"../../src/assets/categories/design.svg";case"construction_remodelling":return"../../src/assets/categories/remodeling.svg";case"home_improvement_maintenance":return"../../src/assets/categories/maintenance.svg"}});const k=Z(2),V=i=>{k.value=i},A=()=>{s.$state.provider.status=l.value.status,l.value.type==="interested"&&m.$state.selectedPost.providersSentInterest.forEach(i=>{i.id===l.value.id&&(i.status=l.value.status)}),l.value.type==="responsed"&&m.$state.selectedPost.providersSentResponse.forEach(i=>{i.id===l.value.id&&(i.status=l.value.status)}),b.getClientNotification(e.$state.userAuth.id).then(()=>{console.log("responsed notiiiiiiiiifffffffff ")}),r.go(-1)},E=()=>{r.push({name:"results"})};let q=_(()=>e.$state.userAuth.id===s.$state.provider.id);return{providerStore:s,clientDemandeStore:m,languageStore:p,wilayasStore:x,categoriesStore:h,portfolioStore:f,authStore:e,userStore:v,router:r,provider:l,loading:L,selectedTab:k,providerIsAuth:q,backgImg:T,selectTab:V,handleGoHome:A,handleGoBack:E,handleSendRequest:R,makePhoneCall:()=>{window.open(`tel:${l.value.phoneNumber}`)},handleCallPro:(i,c)=>{m.changeProviderStatus(i.notificationId,c).then(y=>{y.status===200?(console.log("Marked as selected ",y),i.status=c,i.interestedIndicator=!1,i.btnVisible=!1):console.log("Error ",y)})}}}},me={class:"w-full fixed z-50 top-0 bg-white rounded-b-xl shadow-xl h-fit flex flex-row justify-between items-center px-3 py-2"},fe=t("span",{class:"material-icons text-primary font-bold md:text-2xl text-lg"}," arrow_back_ios ",-1),ge=[fe],pe={key:2,class:"w-full h-full"},ue={class:"max-w-4xl mt-20 px-1 sm:px-6 lg:px-8 lg:py-1 mx-auto"},_e={class:"bg-white rounded-xl shadow"},ve={class:"relative top-0 h-52 md:h-[60vh] rounded-t-xl bg-cover bg-center bg-no-repeat"},be=["src"],xe={class:"pt-0 p-2 sm:pt-0 sm:p-7"},he={class:"space-y-3 sm:space-y-6"},ye=t("div",null,[t("label",{class:"sr-only"}," Product photo ")],-1),we={class:"flex flex-col space-y-2"},Se={for:"af-submit-app-project-name",class:"flex flex-row text-2xl font-bold text-gray-800 mt-1"},ke={class:"self-center mb-1 first-letter:uppercase"},Pe=t("span",{class:"material-icons text-secondary self-center ml-2 text-xl"}," verified ",-1),Ce={class:"flex flex-row justify-start items-center pt-1 gap-1"},Ie=t("span",{class:"material-icons text-primary"}," location_on ",-1),je={class:"font-medium text-gray-500"},Ne={class:"inline-block text-lg font-medium text-gray-700"},Re=t("p",{class:"w-full text-sm font-medium text-gray-600"}," votre solution pratique pour tous vos besoins de réparation, rénovation et entretien résidentiel. Nos experts en bricolage qualifiés vous offrent des services fiables et professionnels pour embellir votre maison et en prendre soin. ",-1),Le={class:"space-x-1"},Te={key:0,class:"space-y-2"},Ve={class:"mt-4 sm:mt-auto sm:mb-1.5 flex flex-1 w-full flex-row justify-center md:justify-start items-center gap-2"},Ae=t("span",{class:"material-icons"}," send ",-1),Ee=t("span",{class:"material-icons text-xl"}," phone ",-1),qe={key:2,class:"btn w-full btn-error sm:w-1/2 md:w-fit h-12 text-lg font-semibold text-error btn-sm md:btn-md z-20 bg-error/20 btn-disabled gap-2"},Be=t("span",{class:"material-icons text-error text-xl"}," cancel ",-1),De={key:5,class:"py-2 loading btn w-full sm:w-1/2 md:w-fit btn-sm h-10 font-bold text-white px-3 inline-flex justify-center items-center gap-2 border btn-primary shadow-sm align-middle"},ze=t("span",{class:"material-icons"}," loop ",-1),Ge=[ze],He={class:"flex px-1 mt-4 flex-col bg-white shadow-sm rounded-xl"},We={class:"border-b rounded-t-xl pt-3 pb-2"},Fe={class:"flex space-x-2","aria-label":"Tabs"},Je=t("span",{class:"material-icons"}," work ",-1),Ke=t("span",{class:"ml-2"},"portfolio",-1),Me=[Je,Ke],Ue=t("span",{class:"material-icons"}," reviews ",-1),Oe=t("span",{class:"ml-2"},"avis",-1),Qe=[Ue,Oe],Xe={class:"text-center md:py-7 mb-4 md:px-5"},Ye={key:0},Ze={key:1};function $e(m,s,f,e,g,v){const p=u("ErrorPage"),b=u("Loading"),x=u("RatingSection"),h=u("ProviderPosts");return o(),n(C,null,[t("div",me,[t("button",{class:"btn-circle",onClick:s[0]||(s[0]=(...r)=>e.handleGoHome&&e.handleGoHome(...r))},ge),e.providerIsAuth?(o(),n("span",{key:0,class:"material-icons md:text-3xl text-2xl text-secondary cursor-pointer",onClick:s[1]||(s[1]=r=>e.router.push({name:"editProfile",params:{id:e.provider.id}}))}," edit_square ")):a("",!0)]),!e.portfolioStore.loadingPortfolio&&e.portfolioStore.errorPortfolio.status?(o(),P(p,{key:0,error:e.portfolioStore.errorPortfolio.message},null,8,["error"])):a("",!0),e.portfolioStore.loadingPortfolio&&!e.portfolioStore.errorPortfolio.status?(o(),P(b,{key:1})):a("",!0),!e.portfolioStore.loadingPortfolio&&!e.portfolioStore.errorPortfolio.status?(o(),n("div",pe,[t("div",ue,[t("div",_e,[t("div",ve,[t("img",{class:"w-full h-full object-cover object-top md:object-cover rounded-t-xl",src:e.backgImg,alt:"Image Description"},null,8,be)]),t("div",xe,[t("div",he,[ye,t("div",we,[t("label",Se,[t("span",ke,d(e.provider.firstName)+" "+d(e.provider.lastName),1),Pe]),t("div",Ce,[Ie,t("span",je,d(e.wilayasStore.getWilayaById(e.provider.stateId))+" , "+d(e.provider.city),1)])]),t("div",null,[t("span",Ne,d(e.languageStore.getWord(e.provider.category.name)),1),Re,t("div",Le,[(o(!0),n(C,null,$(e.provider.subcategories,r=>(o(),n("span",{key:r.id,class:"inline-block mt-2 text-[12px] bg-secondary/20 py-0.5 px-2 rounded-xl font-medium text-secondary"},d(e.languageStore.getWord(r.name)),1))),128))])]),e.providerIsAuth?a("",!0):(o(),n("div",Te,[t("div",Ve,[e.provider.btnVisible&&!e.provider.btnLoading&&!e.provider.interestedIndicator?(o(),n("button",{key:0,onClick:s[2]||(s[2]=r=>e.handleSendRequest(e.provider.id)),class:"btn w-full sm:w-1/2 md:w-fit btn-sm h-10 py-2 font-bold text-white px-3 inline-flex justify-center items-center gap-2 border btn-primary shadow-sm align-middle"},[Ae,w(" request ")])):a("",!0),!e.provider.btnVisible&&(e.provider.status==="accepted"||e.provider.status==="pending")&&!e.provider.btnLoading&&!e.provider.interestedIndicator?(o(),n("button",{key:1,onClick:s[3]||(s[3]=(...r)=>e.makePhoneCall&&e.makePhoneCall(...r)),class:"btn w-full sm:w-1/2 md:w-fit h-12 text-lg font-semibold text-white btn-sm md:btn-md z-20 bg-success btn-success gap-2"},[Ee,w(" "+d(e.provider.phoneNumber),1)])):a("",!0),!e.provider.btnVisible&&e.provider.status==="declined"&&!e.provider.btnLoading&&!e.provider.interestedIndicator?(o(),n("button",qe,[Be,w(" Declined ")])):a("",!0),e.provider.interestedIndicator&&!e.provider.btnLoading?(o(),n("button",{key:3,onClick:s[4]||(s[4]=r=>e.handleCallPro(e.provider,"accepted")),class:"btn btn-sm h-10 w-full md:w-fit flex-1 btn-success flex flex-row justify-center items-center gap-2 text-white"}," Accept ")):a("",!0),e.provider.interestedIndicator&&!e.provider.btnLoading?(o(),n("button",{key:4,onClick:s[5]||(s[5]=r=>e.handleCallPro(e.provider,"declined")),class:"btn btn-sm h-10 btn-primary w-full md:w-fit flex-1 flex flex-row justify-center items-center gap-2 text-white"}," Decline ")):a("",!0),!e.provider.btnVisible&&e.provider.btnLoading?(o(),n("button",De,Ge)):a("",!0)])]))])])]),t("div",He,[t("div",We,[t("nav",Fe,[t("button",{class:I(["flex items-center justify-center border-2 transition-all duration-300 ease-in-out w-full h-full py-2 text-sm font-medium text-gray-500 rounded-t-xl",{" text-primary border-2 bg-white ":e.selectedTab===2}]),onClick:s[6]||(s[6]=r=>e.selectedTab=2)},Me,2),t("button",{class:I(["flex items-center justify-center border-2 transition-all duration-300 ease-in-out w-full h-full py-2 text-sm font-medium text-gray-500 rounded-t-xl",{" text-primary border-2 bg-white ":e.selectedTab===1}]),onClick:s[7]||(s[7]=r=>e.selectedTab=1)},Qe,2)])]),t("div",Xe,[e.selectedTab===1?(o(),n("div",Ye,[S(x,{rating:e.provider.rating},null,8,["rating"])])):a("",!0),e.selectedTab===2?(o(),n("div",Ze,[S(h)])):a("",!0)])])])])):a("",!0)],64)}const rt=j(de,[["render",$e]]);export{rt as default};
